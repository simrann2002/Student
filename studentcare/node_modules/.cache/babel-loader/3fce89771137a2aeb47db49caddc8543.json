{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\godhw\\\\Documents\\\\StudentCare\\\\frontend\\\\src\\\\components\\\\Issues\\\\Issues.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from \"react\";\nimport { format } from \"timeago.js\";\nimport axios from \"axios\";\nimport 'animate.css';\nimport { AuthContext } from \"../../context/AuthContext\";\nimport \"./issues.css\";\nimport issuerimg from \"./userimg.webp\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Issues(_ref) {\n  _s();\n\n  let {\n    issue\n  } = _ref;\n  const {\n    user\n  } = useContext(AuthContext);\n\n  const handleUpdate = async () => {\n    const data = {\n      isResolved: true\n    };\n\n    try {\n      await axios.put(\"/api/issue/\" + issue._id, data);\n      window.alert(\"Updated Successfully\");\n      window.location.reload();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const handleDelete = async () => {\n    try {\n      await axios.delete(\"/api/issue/\" + issue._id);\n      window.alert(\"Issue Deleted Successfully\");\n      window.location.reload();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container issuescontainer mt-2\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"issuesbox animate__animated animate__fadeInLeft\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"issuername\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"issuerimg\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: issuerimg,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 13\n          }, this), \" \", issue.fullName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"(\", format(issue.createdAt), \")\", user._id === issue.userId && /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fa-solid fa-trash\",\n            style: {\n              marginLeft: \"5px\",\n              cursor: \"pointer\"\n            },\n            onClick: handleDelete\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), user.isAdmin === true && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"issuerdetails\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Room No. \", issue.room_no]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Year : \", issue.year]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Branch : \", issue.branch]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Mobile no. \", issue.mobileNo]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 35\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"issuetext\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontWeight: \"600\"\n          },\n          children: [\"Category: \", issue.category]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 79\n        }, this), issue.issuetext]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"issuestatus\",\n        children: [issue.isResolved === true ? \"Resolved\" : \"Pending\", user.isAdmin === true && issue.isResolved === false && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button-18\",\n          style: {\n            marginLeft: \"5px\"\n          },\n          onClick: handleUpdate,\n          children: \"Resolved\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Issues, \"y3FQDew7UyrSqYkvQcTdCsLbAB8=\");\n\n_c = Issues;\nexport default Issues;\n\nvar _c;\n\n$RefreshReg$(_c, \"Issues\");","map":{"version":3,"names":["React","useContext","format","axios","AuthContext","issuerimg","Issues","issue","user","handleUpdate","data","isResolved","put","_id","window","alert","location","reload","err","console","log","handleDelete","delete","fullName","createdAt","userId","marginLeft","cursor","isAdmin","room_no","year","branch","mobileNo","fontWeight","category","issuetext"],"sources":["C:/Users/godhw/Documents/StudentCare/frontend/src/components/Issues/Issues.jsx"],"sourcesContent":["import React, { useContext } from \"react\";\r\nimport { format } from \"timeago.js\";\r\nimport axios from \"axios\"\r\nimport 'animate.css';\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport \"./issues.css\";\r\nimport issuerimg from \"./userimg.webp\";\r\nfunction Issues({ issue }) {\r\n  const { user } = useContext(AuthContext);\r\n  const handleUpdate = async()=>{\r\n    const data = {\r\n      isResolved : true\r\n    }\r\n    try{\r\n      await axios.put(\"/api/issue/\"+ issue._id, data);\r\n      window.alert(\"Updated Successfully\")\r\n      window.location.reload();\r\n    }\r\n    catch(err){\r\n      console.log(err)\r\n    }\r\n  }\r\n  const handleDelete = async()=>{\r\n     try{\r\n       await axios.delete(\"/api/issue/\"+issue._id);\r\n       window.alert(\"Issue Deleted Successfully\");\r\n       window.location.reload();\r\n     }\r\n     catch(err){\r\n       console.log(err);\r\n     }\r\n  }\r\n  return (\r\n    <div className=\"container issuescontainer mt-2\">\r\n      <div className=\"issuesbox animate__animated animate__fadeInLeft\">\r\n        <div className=\"issuername\">\r\n          <div className=\"issuerimg\">\r\n            <img src={issuerimg} alt=\"\" /> {issue.fullName}\r\n          </div>\r\n         <div>\r\n         ({format(issue.createdAt)})\r\n          {user._id === issue.userId && <i class=\"fa-solid fa-trash\" style={{marginLeft: \"5px\", cursor: \"pointer\"}} onClick={handleDelete}></i>}\r\n         </div>\r\n        </div>\r\n        {user.isAdmin === true && <div className=\"issuerdetails\">\r\n          <p>Room No. {issue.room_no}</p>\r\n          <p>Year : {issue.year}</p>\r\n          <p>Branch : {issue.branch}</p>\r\n          <p>Mobile no. {issue.mobileNo}</p>\r\n        </div>}\r\n        <div className=\"issuetext\">\r\n          <span style={{fontWeight: \"600\"}}>Category: {issue.category}</span> <br />\r\n          {issue.issuetext}</div>\r\n        <div className=\"issuestatus\">\r\n          {issue.isResolved === true ? \"Resolved\" : \"Pending\"}\r\n          {user.isAdmin === true && issue.isResolved === false && (\r\n            <button className=\"button-18\" style={{ marginLeft: \"5px\" }} onClick={handleUpdate}>\r\n              Resolved\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Issues;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}